<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tablero - tipo Trello</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">Tablero</div>
    <div class="actions" id="top-actions">
      <button id="customize-btn" title="Personalizar tablero">üé®</button>
      <button id="theme-toggle" title="Cambiar tema">üåô</button>
      <button id="profile-btn" title="Mi perfil">üë§</button>
    </div>
  </header>

  <!-- Background element -->
  <div class="board-background color-bg" id="board-background"></div>

  <!-- Customization Panel -->
  <div class="customization-panel" id="customization-panel">
    <h3>Personalizar Tablero</h3>
    
    <div class="customization-section">
      <label>Fondo del Tablero</label>
      <div class="background-picker" id="background-picker">
        <div class="background-option selected" data-bg="color">Color</div>
        <div class="background-option" data-bg="gradient">Gradiente</div>
        <div class="background-option" data-bg="pattern">Patr√≥n</div>
        <div class="background-option" data-bg="image">Imagen</div>
      </div>
    </div>

    <div class="customization-section" id="color-section">
      <label>Colores del Fondo</label>
      <div class="color-picker" id="bg-color-picker">
        <div class="color-option" style="background: #0079bf;" data-color="#0079bf"></div>
        <div class="color-option" style="background: #d29034;" data-color="#d29034"></div>
        <div class="color-option" style="background: #519839;" data-color="#519839"></div>
        <div class="color-option" style="background: #b04632;" data-color="#b04632"></div>
        <div class="color-option" style="background: #89609e;" data-color="#89609e"></div>
        <div class="color-option" style="background: #cd5a91;" data-color="#cd5a91"></div>
        <div class="color-option" style="background: #4bbf6b;" data-color="#4bbf6b"></div>
        <div class="color-option" style="background: #00aecc;" data-color="#00aecc"></div>
        <div class="color-option" style="background: #838c91;" data-color="#838c91"></div>
        <div class="color-option" style="background: #2d3748;" data-color="#2d3748"></div>
        <div class="color-option" style="background: #667eea;" data-color="#667eea"></div>
        <div class="color-option" style="background: #764ba2;" data-color="#764ba2"></div>
      </div>
      <input type="color" class="custom-color-input" id="custom-bg-color" value="#0079bf">
    </div>

    <div class="customization-section">
      <label>Color de Listas</label>
      <div class="color-picker" id="list-color-picker">
        <div class="color-option selected" style="background: #0079bf;" data-color="#0079bf"></div>
        <div class="color-option" style="background: #d29034;" data-color="#d29034"></div>
        <div class="color-option" style="background: #519839;" data-color="#519839"></div>
        <div class="color-option" style="background: #b04632;" data-color="#b04632"></div>
        <div class="color-option" style="background: #89609e;" data-color="#89609e"></div>
        <div class="color-option" style="background: #cd5a91;" data-color="#cd5a91"></div>
        <div class="color-option" style="background: #4bbf6b;" data-color="#4bbf6b"></div>
        <div class="color-option" style="background: #00aecc;" data-color="#00aecc"></div>
        <div class="color-option" style="background: #838c91;" data-color="#838c91"></div>
        <div class="color-option" style="background: #2d3748;" data-color="#2d3748"></div>
        <div class="color-option" style="background: #667eea;" data-color="#667eea"></div>
        <div class="color-option" style="background: #764ba2;" data-color="#764ba2"></div>
      </div>
      <input type="color" class="custom-color-input" id="custom-list-color" value="#0079bf">
    </div>

    <div class="customization-actions">
      <button class="save-btn" id="save-customization">Guardar</button>
      <button class="reset-btn" id="reset-customization">Restablecer</button>
      <button class="cancel-btn" id="cancel-customization">Cancelar</button>
    </div>
  </div>

  <!-- Profile Panel -->
  <div class="profile-panel" id="profile-panel">
    <div class="profile-header">
      <h3>Mi Perfil</h3>
      <button class="close-btn" id="close-profile">√ó</button>
    </div>
    
    <div class="profile-content">
      <!-- Avatar Section -->
      <div class="profile-section">
        <h4>Avatar</h4>
        <div class="avatar-section">
          <div class="current-avatar-container">
            <div id="avatar-placeholder" class="avatar-placeholder">?</div>
            <img id="current-avatar" class="current-avatar" style="display: none;" alt="Avatar actual">
          </div>
          <div class="avatar-actions">
            <label for="avatar-upload" class="upload-btn">Cambiar Avatar</label>
            <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
            <button class="delete-btn" id="delete-avatar">Eliminar</button>
          </div>
        </div>
      </div>

      <!-- Profile Information -->
      <div class="profile-section">
        <h4>Informaci√≥n Personal</h4>
        <form id="update-profile-form" class="profile-form">
          <label>Nombre
            <input type="text" id="profile-name" required>
          </label>
          <label>Email
            <input type="email" id="profile-email" required>
          </label>
          <button type="submit" class="save-btn">Actualizar Perfil</button>
        </form>
      </div>

      <!-- Change Password -->
      <div class="profile-section">
        <h4>Cambiar Contrase√±a</h4>
        <form id="change-password-form" class="profile-form">
          <label>Contrase√±a Actual
            <input type="password" id="current-password" required>
          </label>
          <label>Nueva Contrase√±a
            <input type="password" id="new-password" required minlength="6">
          </label>
          <label>Confirmar Nueva Contrase√±a
            <input type="password" id="confirm-password" required minlength="6">
          </label>
          <button type="submit" class="save-btn">Cambiar Contrase√±a</button>
        </form>
      </div>
    </div>
  </div>

  <main id="app">
    <section id="auth-view" class="view">
      <div class="auth-card">
        <h1>Bienvenido</h1>
        <div class="tabs">
          <button class="tab active" data-tab="login">Iniciar sesi√≥n</button>
          <button class="tab" data-tab="register">Registrarse</button>
        </div>
        <div class="tab-content">
          <form id="login-form" class="tab-pane active">
            <label>Email
              <input type="email" name="email" required />
            </label>
            <label>Contrase√±a
              <input type="password" name="password" required />
            </label>
            <button type="submit">Entrar</button>
            <div class="error" id="login-error"></div>
          </form>
          <form id="register-form" class="tab-pane">
            <label>Nombre
              <input type="text" name="name" required />
            </label>
            <label>Email
              <input type="email" name="email" required />
            </label>
            <label>Contrase√±a
              <input type="password" name="password" required />
            </label>
            <button type="submit">Crear cuenta</button>
            <div class="error" id="register-error"></div>
          </form>
        </div>
      </div>
    </section>

    <section id="boards-view" class="view hidden">
      <div class="toolbar">
        <h2>Mis tableros</h2>
        <form id="create-board-form">
          <input type="text" name="name" placeholder="Nombre del tablero" required />
          <button type="submit">Crear</button>
        </form>
      </div>
      <div id="boards-list" class="boards-list"></div>
    </section>

    <section id="board-view" class="view hidden">
      <div class="toolbar">
        <button id="back-to-boards">‚Üê Volver</button>
        <h2 id="board-title">Tablero</h2>
        <div class="spacer"></div>
        <form id="invite-form">
          <input type="email" name="email" placeholder="Invitar por email" />
          <button type="submit">Invitar</button>
        </form>
      </div>
      <div id="lists" class="lists"></div>
      <div class="add-list">
        <form id="add-list-form">
          <input type="text" name="title" placeholder="A√±adir lista" required />
          <button type="submit">A√±adir lista</button>
        </form>
      </div>
    </section>
  </main>

  <!-- Toast notifications -->
  <div id="toast-container" class="toast-container"></div>

  <template id="toast-template">
    <div class="toast">
      <span class="toast-message"></span>
      <button class="toast-close">√ó</button>
    </div>
  </template>

  <template id="list-template">
    <div class="list" draggable="false">
      <div class="list-header">
        <input class="list-title" />
        <button class="delete-list">‚úï</button>
      </div>
      <div class="cards" data-list-id></div>
      <form class="add-card-form">
        <input type="text" name="title" placeholder="A√±adir tarjeta" required />
        <button type="submit">A√±adir</button>
      </form>
    </div>
  </template>

  <template id="card-template">
    <div class="card" draggable="true">
      <div class="card-header">
        <div class="card-creator"></div>
        <div class="card-status"></div>
        <div class="card-assignees" title="Click to assign users">
          <span class="assign-icon">+</span>
        </div>
        <div class="assignee-dropdown hidden">
          <div class="assignee-list"></div>
        </div>
      </div>
      <div class="card-title"></div>
      <textarea class="card-desc" placeholder="Descripci√≥n..."></textarea>
      <div class="card-actions">
        <button class="save-card">Guardar</button>
        <button class="delete-card">Eliminar</button>
      </div>
    </div>
  </template>

  <script src="app.js"></script>
</body>
</html>
